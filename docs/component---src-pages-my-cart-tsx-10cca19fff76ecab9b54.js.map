{"version":3,"file":"component---src-pages-my-cart-tsx-10cca19fff76ecab9b54.js","mappings":"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","sources":["webpack://tastyspore/./src/components/icons/Arrow.tsx","webpack://tastyspore/./src/components/icons/Trash.tsx","webpack://tastyspore/./src/components/MyCart/CartItem.tsx","webpack://tastyspore/./src/pages/my_cart.tsx"],"sourcesContent":["import React from \"react\"\r\n\r\nfunction Icon({ color, width }: { color: string; width: number }) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={width}\r\n      height={width}\r\n      viewBox=\"0 0 128 128\"\r\n      fill={color}\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M30.371 58.25L86.324 2.297c3.258-3.066 8.238-3.066 11.305 0s3.066 8.047 0 11.305L47.234 63.997l50.395 50.395c3.066 3.066 3.066 8.238 0 11.305-3.066 3.066-8.047 3.066-11.305 0L30.371 69.552c-3.066-3.066-3.066-8.047 0-11.305z\"\r\n      ></path>\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Icon\r\n","import React from \"react\"\r\n\r\nfunction Icon({ color, width }: { color: string; width: number }) {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      width={width}\r\n      height={width}\r\n      viewBox=\"300 300 600 600\"\r\n    >\r\n      <path\r\n        fill={color}\r\n        d=\"M822 600c0 122.61-99.395 222-222 222s-222-99.395-222-222 99.395-222 222-222 222 99.395 222 222zm-408 0c0 102.73 83.273 186 186 186s186-83.273 186-186-83.273-186-186-186-186 83.273-186 186zm211.46 0l59.27 59.273c7.031 7.027 7.031 18.426 0 25.453-7.027 7.031-18.426 7.031-25.453 0l-59.273-59.27-59.273 59.27c-7.027 7.031-18.426 7.031-25.453 0-7.031-7.027-7.031-18.426 0-25.453L574.548 600l-59.27-59.273c-7.031-7.027-7.031-18.426 0-25.453 7.027-7.031 18.426-7.031 25.453 0l59.273 59.27 59.273-59.27c7.027-7.031 18.426-7.031 25.453 0 7.031 7.027 7.031 18.426 0 25.453z\"\r\n      ></path>\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default Icon\r\n","import React from \"react\"\r\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\r\nimport Trash from \"../icons/Trash\"\r\nimport \"./CartItem.scss\"\r\nimport { CIInterface } from \"../../../types\"\r\nimport { Link } from \"gatsby\"\r\n\r\nexport default function CartItem({\r\n  item,\r\n  removeItem,\r\n}: {\r\n  item: CIInterface\r\n  removeItem: (id: string, size: string) => void\r\n}) {\r\n  return (\r\n    <div className=\"item\">\r\n      <div className=\"flex\">\r\n        <Link to={\"/\" + item.id}>\r\n          <GatsbyImage image={getImage(item.image)} alt={item.title} />\r\n        </Link>\r\n        <div className=\"info\">\r\n          <h2>{item.title}</h2>\r\n          <p className=\"price\">${item.price.msrp}</p>\r\n          <div className=\"quantity\">Quantity: {item.quantity}</div>\r\n          <p className=\"size\">\r\n            {item.size[0]} : {item.weight}lbs\r\n          </p>\r\n          <button\r\n            className=\"delete\"\r\n            onClick={() => {\r\n              removeItem(item.id, item.size)\r\n            }}\r\n          >\r\n            <Trash color=\"#f36766\" width={30} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useContext } from \"react\"\r\nimport { graphql, navigate } from \"gatsby\"\r\nimport { CIInterface, MDXQuery, PIInterface } from \"../../types\"\r\nimport Helmet from \"../components/Main/Helmet/Helmet\"\r\nimport CartItem from \"../components/MyCart/CartItem\"\r\nimport Arrow from \"../components/icons/Arrow\"\r\nimport Cart from \"../components/icons/Cart\"\r\nimport { Page } from \"../components/Main/Page/Page\"\r\nimport { useLocalStorage } from \"usehooks-ts\"\r\n\r\nfunction addZeroes(num: string) {\r\n  const dec = num.split(\".\")[1]\r\n  const len = dec && dec.length > 2 ? dec.length : 2\r\n  return Number(num).toFixed(len)\r\n}\r\n\r\nexport default function MyCart({ data }: { data: MDXQuery }) {\r\n  const [items, setItems] = useLocalStorage<PIInterface[]>(\"my_cart\", null)\r\n\r\n  const itemsWithData: CIInterface[] = []\r\n\r\n  if (items && items.length)\r\n    items.forEach((item) => {\r\n      const id = item.id\r\n      const size = item.size\r\n      const quantity = item.quantity\r\n\r\n      data.allMdx.edges.forEach((catalogItem) => {\r\n        const cfm = catalogItem.node.frontmatter\r\n        if (cfm.id == id) {\r\n          cfm.inventory.forEach((inventoryItem) => {\r\n            if (inventoryItem.size == size)\r\n              itemsWithData.push({\r\n                id,\r\n                title: cfm.title,\r\n                size: inventoryItem.size,\r\n                quantity,\r\n                price: { msrp: inventoryItem.price.msrp },\r\n                image: cfm.logo.source.childImageSharp,\r\n                weight: inventoryItem.weight,\r\n              })\r\n          })\r\n        }\r\n      })\r\n    })\r\n\r\n  const sub_total = !itemsWithData\r\n    ? 0\r\n    : itemsWithData\r\n        .map((e) => e.quantity * e.price.msrp)\r\n        .reduce((a, b) => a + b, 0)\r\n  const sales_tax = +(sub_total * 0.16).toFixed(2)\r\n  const total = (sales_tax + sub_total).toFixed(2)\r\n\r\n  const removeItem = (id: string, size: string) => {\r\n    setItems((prev) => {\r\n      return prev.filter((e) => e.id + e.size !== id + size)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <Helmet\r\n        title=\"Delicious Mushrooms & Tasty Recipes! | TastySpore\"\r\n        description=\"Our Mushrooms grow kits are the best kits available for growing mushrooms indoors. With a 100% guarantee, we know you will love our mushrooms as much as we do.\"\r\n        keywords={[\r\n          \"mushroom\",\r\n          \"mushroom growing kit\",\r\n          \"mushroom drawing\",\r\n          \"mushroom menu\",\r\n          \"lion's mane mushroom\",\r\n          \"shiitake mushroom\",\r\n          \"enoki mushroom\",\r\n          \"reishi mushroom\",\r\n        ]}\r\n      />\r\n      <div>\r\n        <div className=\"cart-tab\">\r\n          <button className=\"back-button\" onClick={() => navigate(-1)}>\r\n            <Arrow color=\"#3e3e3e\" width={20} />\r\n          </button>\r\n          <h3 className=\"cart\">My Cart</h3>\r\n          <section>\r\n            {itemsWithData && itemsWithData.length ? (\r\n              itemsWithData.map((e, idx) => (\r\n                <CartItem item={e} removeItem={removeItem} key={idx} />\r\n              ))\r\n            ) : (\r\n              <div className=\"no-items\">\r\n                <Cart color=\"#dddddd\" width={150} />\r\n                <p>No Items In Cart</p>\r\n              </div>\r\n            )}\r\n          </section>\r\n          {items && items.length && (\r\n            <div className=\"nav\">\r\n              <p className=\"sub\">\r\n                Sub total: <span>${sub_total}</span>\r\n              </p>\r\n              <p className=\"sub\">\r\n                Tax: <span>${addZeroes(sales_tax + \"\")}</span>\r\n              </p>\r\n              <p className=\"price\">\r\n                Total: <span>${total}</span>\r\n              </p>\r\n              <button\r\n                onClick={() => {\r\n                  alert(\r\n                    \"Thank you for your interest! Orders are currently disabled until we officially launch. Check back here soon for updates!\"\r\n                  )\r\n                }}\r\n              >\r\n                Continue to shipping\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport const query = graphql`\r\n  query {\r\n    allMdx(sort: { order: DESC, fields: frontmatter___title }) {\r\n      edges {\r\n        node {\r\n          ...ProductFrontmatter\r\n        }\r\n      }\r\n    }\r\n  }\r\n`\r\n"],"names":["color","width","xmlns","height","viewBox","fill","fillRule","d","CartItem","item","removeItem","className","Link","to","id","G","image","getImage","alt","title","price","msrp","quantity","size","weight","onClick","Trash","MyCart","data","useLocalStorage","items","setItems","itemsWithData","length","forEach","allMdx","edges","catalogItem","cfm","node","frontmatter","inventory","inventoryItem","push","logo","source","childImageSharp","num","dec","len","sub_total","map","e","reduce","a","b","sales_tax","toFixed","total","prev","filter","Page","Helmet","description","keywords","navigate","Arrow","idx","key","Cart","split","Number","alert"],"sourceRoot":""}