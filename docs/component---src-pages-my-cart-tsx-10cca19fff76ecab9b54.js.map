{"version":3,"file":"component---src-pages-my-cart-tsx-10cca19fff76ecab9b54.js","mappings":"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","sources":["webpack://tastyspore/./src/components/icons/Arrow.tsx","webpack://tastyspore/./src/components/icons/Trash.tsx","webpack://tastyspore/./src/components/MyCart/CartItem.tsx","webpack://tastyspore/./src/pages/my_cart.tsx"],"sourcesContent":["import React from \"react\"\n\nfunction Icon({ color, width }: { color: string; width: number }) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={width}\n      height={width}\n      viewBox=\"0 0 128 128\"\n      fill={color}\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M30.371 58.25L86.324 2.297c3.258-3.066 8.238-3.066 11.305 0s3.066 8.047 0 11.305L47.234 63.997l50.395 50.395c3.066 3.066 3.066 8.238 0 11.305-3.066 3.066-8.047 3.066-11.305 0L30.371 69.552c-3.066-3.066-3.066-8.047 0-11.305z\"\n      ></path>\n    </svg>\n  )\n}\n\nexport default Icon\n","import React from \"react\"\n\nfunction Icon({ color, width }: { color: string; width: number }) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={width}\n      height={width}\n      viewBox=\"300 300 600 600\"\n    >\n      <path\n        fill={color}\n        d=\"M822 600c0 122.61-99.395 222-222 222s-222-99.395-222-222 99.395-222 222-222 222 99.395 222 222zm-408 0c0 102.73 83.273 186 186 186s186-83.273 186-186-83.273-186-186-186-186 83.273-186 186zm211.46 0l59.27 59.273c7.031 7.027 7.031 18.426 0 25.453-7.027 7.031-18.426 7.031-25.453 0l-59.273-59.27-59.273 59.27c-7.027 7.031-18.426 7.031-25.453 0-7.031-7.027-7.031-18.426 0-25.453L574.548 600l-59.27-59.273c-7.031-7.027-7.031-18.426 0-25.453 7.027-7.031 18.426-7.031 25.453 0l59.273 59.27 59.273-59.27c7.027-7.031 18.426-7.031 25.453 0 7.031 7.027 7.031 18.426 0 25.453z\"\n      ></path>\n    </svg>\n  )\n}\n\nexport default Icon\n","import React from \"react\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\nimport Trash from \"../icons/Trash\"\nimport \"./CartItem.scss\"\nimport { CIInterface } from \"../../../types\"\nimport { Link } from \"gatsby\"\n\nexport default function CartItem({\n  item,\n  removeItem,\n}: {\n  item: CIInterface\n  removeItem: (id: string, size: string) => void\n}) {\n  return (\n    <div className=\"item\">\n      <div className=\"flex\">\n        <Link to={\"/\" + item.id}>\n          <GatsbyImage image={getImage(item.image)} alt={item.title} />\n        </Link>\n        <div className=\"info\">\n          <h2>{item.title}</h2>\n          <p className=\"price\">${item.price.msrp}</p>\n          <div className=\"quantity\">Quantity: {item.quantity}</div>\n          <p className=\"size\">\n            {item.size[0]} : {item.weight}lbs\n          </p>\n          <button\n            className=\"delete\"\n            onClick={() => {\n              removeItem(item.id, item.size)\n            }}\n          >\n            <Trash color=\"#f36766\" width={30} />\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useContext } from \"react\"\nimport { graphql, navigate } from \"gatsby\"\nimport { CIInterface, MDXQuery, PIInterface } from \"../../types\"\nimport Helmet from \"../components/Main/Helmet/Helmet\"\nimport CartItem from \"../components/MyCart/CartItem\"\nimport Arrow from \"../components/icons/Arrow\"\nimport Cart from \"../components/icons/Cart\"\nimport { Page } from \"../components/Main/Page/Page\"\nimport { useLocalStorage } from \"usehooks-ts\"\n\nfunction addZeroes(num: string) {\n  const dec = num.split(\".\")[1]\n  const len = dec && dec.length > 2 ? dec.length : 2\n  return Number(num).toFixed(len)\n}\n\nexport default function MyCart({ data }: { data: MDXQuery }) {\n  const [items, setItems] = useLocalStorage<PIInterface[]>(\"my_cart\", null)\n\n  const itemsWithData: CIInterface[] = []\n\n  if (items && items.length)\n    items.forEach((item) => {\n      const id = item.id\n      const size = item.size\n      const quantity = item.quantity\n\n      data.allMdx.edges.forEach((catalogItem) => {\n        const cfm = catalogItem.node.frontmatter\n        if (cfm.id == id) {\n          cfm.inventory.forEach((inventoryItem) => {\n            if (inventoryItem.size == size)\n              itemsWithData.push({\n                id,\n                title: cfm.title,\n                size: inventoryItem.size,\n                quantity,\n                price: { msrp: inventoryItem.price.msrp },\n                image: cfm.logo.source.childImageSharp,\n                weight: inventoryItem.weight,\n              })\n          })\n        }\n      })\n    })\n\n  const sub_total = !itemsWithData\n    ? 0\n    : itemsWithData\n        .map((e) => e.quantity * e.price.msrp)\n        .reduce((a, b) => a + b, 0)\n  const sales_tax = +(sub_total * 0.16).toFixed(2)\n  const total = (sales_tax + sub_total).toFixed(2)\n\n  const removeItem = (id: string, size: string) => {\n    setItems((prev) => {\n      return prev.filter((e) => e.id + e.size !== id + size)\n    })\n  }\n\n  return (\n    <Page>\n      <Helmet\n        title=\"Delicious Mushrooms & Tasty Recipes! | TastySpore\"\n        description=\"Our Mushrooms grow kits are the best kits available for growing mushrooms indoors. With a 100% guarantee, we know you will love our mushrooms as much as we do.\"\n        keywords={[\n          \"mushroom\",\n          \"mushroom growing kit\",\n          \"mushroom drawing\",\n          \"mushroom menu\",\n          \"lion's mane mushroom\",\n          \"shiitake mushroom\",\n          \"enoki mushroom\",\n          \"reishi mushroom\",\n        ]}\n      />\n      <div>\n        <div className=\"cart-tab\">\n          <button className=\"back-button\" onClick={() => navigate(-1)}>\n            <Arrow color=\"#3e3e3e\" width={20} />\n          </button>\n          <h3 className=\"cart\">My Cart</h3>\n          <section>\n            {itemsWithData && itemsWithData.length ? (\n              itemsWithData.map((e, idx) => (\n                <CartItem item={e} removeItem={removeItem} key={idx} />\n              ))\n            ) : (\n              <div className=\"no-items\">\n                <Cart color=\"#dddddd\" width={150} />\n                <p>No Items In Cart</p>\n              </div>\n            )}\n          </section>\n          {items && items.length && (\n            <div className=\"nav\">\n              <p className=\"sub\">\n                Sub total: <span>${sub_total}</span>\n              </p>\n              <p className=\"sub\">\n                Tax: <span>${addZeroes(sales_tax + \"\")}</span>\n              </p>\n              <p className=\"price\">\n                Total: <span>${total}</span>\n              </p>\n              <button\n                onClick={() => {\n                  alert(\n                    \"Thank you for your interest! Orders are currently disabled until we officially launch. Check back here soon for updates!\"\n                  )\n                }}\n              >\n                Continue to shipping\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </Page>\n  )\n}\n\nexport const query = graphql`\n  query {\n    allMdx(sort: { order: DESC, fields: frontmatter___title }) {\n      edges {\n        node {\n          ...ProductFrontmatter\n        }\n      }\n    }\n  }\n`\n"],"names":["color","width","xmlns","height","viewBox","fill","fillRule","d","CartItem","item","removeItem","className","Link","to","id","G","image","getImage","alt","title","price","msrp","quantity","size","weight","onClick","Trash","MyCart","data","useLocalStorage","items","setItems","itemsWithData","length","forEach","allMdx","edges","catalogItem","cfm","node","frontmatter","inventory","inventoryItem","push","logo","source","childImageSharp","num","dec","len","sub_total","map","e","reduce","a","b","sales_tax","toFixed","total","prev","filter","Page","Helmet","description","keywords","navigate","Arrow","idx","key","Cart","split","Number","alert"],"sourceRoot":""}